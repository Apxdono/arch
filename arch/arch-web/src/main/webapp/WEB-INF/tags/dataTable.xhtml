<!DOCTYPE html >
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:cc="http://java.sun.com/jsf/composite"
	xmlns:o="http://openfaces.org/">	
	
	<o:dataTable id="table" styleClass="km-table" useAjax="true"
					value="#{bean.items}" var="item" customDataProviding="true"
					sortColumnId="#{bean.tableState.sortColumnId}"
					sortAscending="#{bean.tableState.sortAscending}"
					pageCount="#{bean.itemsTotalCount}"
					totalRowCount="#{bean.itemsTotalCount}"
					pageSize="#{bean.tableState.pageSize}"
					pageIndex="#{bean.tableState.pageIndex}"
					paginationKeyboardSupport="true" >
				<f:attribute name="forceRowsDecoding" value="true"/>
				<ui:insert name="columns"/>

					<f:facet name="below">
						<h:panelGroup layout="block" style="height:30px;">
							<h:selectOneMenu id="pageSizeTop"
								value="#{bean.tableState.pageSize}"
								styleClass="km-paginator-pageSize">
								<f:selectItem itemLabel="5" itemValue="5" />
								<f:selectItem itemLabel="10" itemValue="10" />
								<f:selectItem itemLabel="25" itemValue="25" />
								<f:selectItem itemLabel="50" itemValue="50" />
								<o:ajax event="change" execute="@this" render="#{id}" />
							</h:selectOneMenu>
							<o:dataTablePaginator id="paginatorTop" styleClass="km-paginator"
								showPageCount="true" showIfOnePage="true" />
						</h:panelGroup>
					</f:facet>
				</o:dataTable>
</ui:composition>