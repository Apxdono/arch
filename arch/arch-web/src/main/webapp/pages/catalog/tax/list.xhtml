<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core" xmlns:o="http://openfaces.org/"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:cst="http://kmware.com/ui"
	xmlns:sh="http://java.sun.com/jsf/composite/components">

<ui:composition template="/WEB-INF/templates/default.xhtml">
	<ui:define name="content">
		<h:form id="crudform" prependId="false" acceptcharset="UTF-8">
			<div id="content">

				<o:inputTextFilter id="global" autoFilterDelay="500"
						for="table" expression="#{item.displayName} #{item.country.displayName} #{item.city.displayName} #{item.company.displayName}"
						promptText="Global search" style="width:300px;" />
                <br /> <br />
				<cst:dataTable id="table" bean="#{taxCRUD}">
					<ui:define name="columns">
						<o:column id="displayName" header="Name"
							sortingExpression="#{item.displayName}">
							<o:commandLink value="#{item.displayName}"
								action="#{navigation.toView(item.id)}" />
						</o:column>
						<o:column id="dateCreated" header="Date created"
							sortingExpression="#{item.dateCreated}">
							<h:outputText value="#{item.dateCreated}">
								<f:convertDateTime pattern="dd.MM.yyyy HH:mm" />
							</h:outputText>
						</o:column>
						<o:column id="deleted" header="Deleted" sortingExpression="#{item.deleted}">
							<h:outputText value="#{item.deleted? 'Yes':'No'}"/>
						</o:column>
                        <o:column id="country" header="Country" sortingExpression="#{item.country.displayName}">
                            <h:outputText value="#{item.country.displayName}"/>
                        </o:column>
                        <o:column id="city" header="City" sortingExpression="#{item.city.displayName}">
                            <h:outputText value="#{item.city.displayName}"/>
                        </o:column>
                        <o:column id="company" header="Company" sortingExpression="#{item.company.displayName}">
                            <h:outputText value="#{item.company.displayName}"/>
                        </o:column>
					</ui:define>
				</cst:dataTable>
			</div>
			<cst:listActionsButtons/>
		</h:form>

	</ui:define>
</ui:composition>
</html>