<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:composite="http://java.sun.com/jsf/composite"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core" 
	xmlns:o="http://openfaces.org/"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<head>

</head>
<body>
	<composite:interface>
		<composite:attribute name="bean" required="true" />
		<composite:attribute name="field" required="true" />
		<composite:attribute name="label" required="true" />
		<composite:attribute name="required" default="false" />
		<composite:attribute name="requiredMark"
			default="&lt;span style='color:red'&gt;*&lt;/span&gt;" />
	</composite:interface>


	<composite:implementation>
		<h:outputLabel id="lbl" escape="false" for="input"
			value="#{cc.attrs.label}: #{cc.attrs.required? cc.attrs.requiredMark : ''}" />
		<o:inputText id="input"
			value="#{cc.attrs.bean['entity'][cc.attrs.field]}"
			required="#{cc.attrs.required}" maxlength="255"
			label="#{cc.attrs.label}" />
		<h:message id="msg" for="input" />
		<script>
			document.getElementById('#{cc.attrs.id}:input').maxLength=#{cc.attrs.bean.fieldLength(cc.attrs.field)};
		</script>


	</composite:implementation>
</body>
</html>